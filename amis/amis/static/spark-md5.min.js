document.addEventListener('DOMContentLoaded', function () {
    const fileInput = document.getElementById('u:file_upload'); // 替换为实际的文件上传组件的ID
    fileInput.addEventListener('change', function () {
        const file = this.files[0];
        const reader = new FileReader();
        reader.onload = function (e) {
            const spark = new SparkMD5.ArrayBuffer();
            spark.append(e.target.result);
            const hash = spark.end();
            console.log('文件哈希（MD5）：', hash);
            // 可以将这个哈希值添加到文件上传的请求参数中，或者用于其他用途
        };
        reader.readAsArrayBuffer(file);
    });
});